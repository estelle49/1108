# 模块化

## 1.概念

### 1.1 什么是模块化/模块 module

- 将一个大的 js 文件拆分成多个小的 js 文件，每一个小的 js 文件表示实现某一个功能，每个功能之间互不影响，便于修改，便于多人开
- 模块化只支持 js 文件
- 模块化：将大的 js 文件拆分成多个小的 js 文件的过程，称为模块化，最终通过某种模块化语法组合在一起
- 模块：每一个小的 js 文件
- 特点：模块的内部数据/实现是私有的, 只是向外部暴露一些接口(方法/数据)与外部其它模块通信

### 1.2 模块化发展历程

- 最初：通过多个函数来划分，实现不同的功能；在开发过程中容易导致命名冲突
- 命名空间方式：类是一个对象，在对象中放入方法，来实现不同的功能；不安全，容易被修改
- IIFE 模式
- 模块化

### 1.3 模块化的优点

- 避免命名冲突(减少命名空间污染)
- 更好的分离, 按需加载
- 更高复用性
- 高可维护性

### 1.4 页面引入加载 script 存在的问题

- 请求过多
- 依赖复杂
- 难以维护
  为解决以上问题，推出了模块化规范

## 2.模块化规范

### 2.1commonjs 模块化

- commonjs 模块化通常使用在服务器端（nodejs）
- webpack、babel 等工具都是基于 node 平台运行的，所以在开发时需要使用到 commonjs 模块化

#### commonjs 模块化的使用规范
 - 说明
   - 每个文件都可以当做一个模块
   - 在服务器端，模块的加载时运行时同步加载的
   - 在浏览器端，模块需要提前编译打包处理
   - 同步加载，有缓存（一旦遇到，一定要加载）
 - 基本语法
   - 暴露模块(两种方式)
      1.module.exports = value
      暴露的是一个函数
      2.exports.xxx = value
      暴露的是一个对象，对象中是一个方法
   - 引入模块
      通过require(模块路径)函数，引入模块；如A依赖B，则需要将B引入A中
      引入模块的值：是模块暴露的内容，作为返回值
   - 特点
      1.所有模块化都有一个入口js主文件：index.js、main.js、app.js,用于将其他的js模块引入，汇总在一起，只需要使用一个（主文件）模块，其他的模块都加载了
      2.模块内部的数据都是私有的，不能访问，需要暴露出去才能使用
   - 扩展
    - reduce用法
     reduce（(上一次的返回值，当前数组的遍历值)=>{}，初始值）方法一般用来统计、求和
    - 需要在nodejs环境中运行，打开终端，输入指令node 需要运行文件的路径
### 2.2ES6 模块化

- es6 模块化通常使用在浏览器端
